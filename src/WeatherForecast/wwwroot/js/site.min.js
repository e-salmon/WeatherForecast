async function updateForecast(){$("#btnRefresh i").addClass("fa-spin");const n=await fetch("/forecast-update");if(n.ok){const t=await n.text();$("#forecastContent").html(t);countdown=autoRefreshInterval}else console.log(n);$("#btnRefresh i").removeClass("fa-spin")}const autoRefreshInterval=30;let countdown=autoRefreshInterval;$(function(){$("#forecastContent").length&&(updateForecast(),setInterval(function(){countdown--;countdown<=0?updateForecast():$("#autoRefresh").css("width",(100-countdown*100/autoRefreshInterval).toString()+"%")},1e3));$("#btnRefresh").on("click",function(){updateForecast()})});